# 《数据结构与算法》

## 链表

- 经典应用场景：LRU缓存淘汰算法。

  缓存：提高数据读取性能的技术。

  缓存大小有限，缓存满后，哪些需要清除，哪些需要保留，需要缓存淘态策略来决定。常见策略：先进先出策略、最少使用策略、最近最少使用策略。

  FIFO; First In, First Out

  LFU; Least Frequently Used

  LRU; Least Recently Used

- vs 数组

  - 数组需要连续的内存空间，要求高
  - 链表：通过”指针“将零散的内存块串连起来

- 三种常见的链表结构：

  - 单链表

    ![1556505393403](C:\Users\chen.huaiyu\AppData\Roaming\Typora\typora-user-images\1556505393403.png)

    零散的内存块称链表的**结点**，结点需*存储数据*、*记录下一结点地址*。

    记录下一指针结点地址的指针叫**后继指针 next**。

    **头结点**，第一个结点。记录链表的基地址。

    **尾结点**，最后一个结点。指向一个**空地址 NULL**。

    - 插入、删除

      链表不需要为保持内在的连续而搬移结点，插入&删除时间复杂度为O(1).

    - 随机访问

      如需访问第k位，需一个一个往下数，时间复杂度O(n).

  - 循环链表

    ![1556505444580](C:\Users\chen.huaiyu\AppData\Roaming\Typora\typora-user-images\1556505444580.png)

    - 约瑟夫问题

      典型应用场景

  - 双链表

    ![1556505894824](C:\Users\chen.huaiyu\AppData\Roaming\Typora\typora-user-images\1556505894824.png)

    多了一个**前驱指针 prev**指向前面的结点。

    需要更多的内存存储额外的前驱结点&后继结点的地址。支持双向遍历。

    结构上，双链表支持时间复杂度为O(1)情况下找到前驱指针，插入、删除等操作比单链表简单、高效。

    - 删除（对比单、双链表）

      - 删除结点中”值等于某个给定值“的结点

        单、双链表均需一个一个遍历依次对比，**遍历查找**是主要的耗时点，据加法法则，删除操作的时间复杂度为O(n)。

      - 删除给定指针指向的结点

        **已找到了要删除的结点**。

        但要删除某结点q，需要知道其前驱结点，为找到前驱结点，要从头结点开始遍历，直到            p->next=q,说明p是q的前驱结点。

        双向链表的前驱结点中已保存了前驱结点的指针，不需要像单链表一样去遍历。

        单链表的时间复杂度为O(n),双向链表的时间复杂度为O(1)。

    - 插入（同删除）

    - 有序列表按值查询

      双向链表 > 单链表

      记录上一次查询位置p,每次查询时，据要查找的值与p的大小，决定向前向后查询。

    **空间换时间**的设计思想。

    - 双向循环链表

      ![1556510067953](C:\Users\chen.huaiyu\AppData\Roaming\Typora\typora-user-images\1556510067953.png)

- vs 数组
  - 数组
    1. 简单易用，使用连续的内存空间，借助CPU缓存机制，预读数据，访问效率更高。
    2. 大小固定，一经声明就要占有整块内存。声明过大，”内存不足；声明过小，不够时申请更大的内存以及搬移数据耗费大量的时间。
    3. 如代码对内存要求高，数组更佳。
  - 链表
    1. 内存不连续，对CPU缓存不友好，无法有效预读。
    2. 本身无大小限制，天然支持动态扩容。
    3. 链表中每个结点存储指针，需更多内存；且对链表进行频繁插入、删除等操作，导致频繁的内在申请和释放，易造成内在碎片。

- 例：如何使用链表实现LRU缓存淘态算法？

  维护一个有序链表，靠近尾部为的结点为最早访问的。当有新数据被访问时，从链头开始顺序遍历。

  1. 如果此数据之前已被缓存在链表中，遍历得到这个数据对应的结点，并将其从原来位置删除，然后将数据插入链头；
  2. 如数据不在链表中，
     1. 如缓存未满，直接将其插入头部；
     2. 如缓存已满，直接删除尾结点，后将其插入头部。



